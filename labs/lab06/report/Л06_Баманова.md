---
## Front matter
title: "Лабораторная работа №6"
subtitle: "Архитектура вычислительных систем"
author: "Басманова Дарья Кириллова"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures

fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Приобретение практических навыков по разработке
небольших командных файлов. Освоение арифметических инструкций
языка ассемблера NASM.


# Выполнение лабораторной работы
Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:001])

1) Создадим каталог для программам лабораторной работы №6, и перейдем в
него и создадим файл lab6-1.asm:

![1](image/1.png){ #fig:001 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:002])

2) Рассмотрим примеры программ вывода символьных и численных значений. Программы будут выводить значения записанные в регистр eax.
Введем в файл lab6-1.asm текст программы из листинга 7.1.

![2](image/2.png){ #fig:002 width=70% }

 Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:003])
 3) Создайте исполняемый файл и запустите его.
 
 ![3](image/3.png){ #fig:003 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:004])

3) Далее изменим текст программы и вместо символов, запишем в реги-
стры числа. Исправим текст программы (Листинг 1) следующим образом.

 ![4](image/4.png){ #fig:004 width=70% }
 
Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:005])
 
 ![5](image/5.png){ #fig:005 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:006])
4) Создадим файл lab6-2.asm в каталоге ~/work/arch-pc/lab06 и введем в него
текст программы из листинга 7.

![6](image/6.png){ #fig:006 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:007])
5) Создадим исполняемый файл и запустим его

![7](image/7.png){ #fig:007 width=70% }

В результате работы программы мы получим число 106. В данном случае, как
и в первом, команда add складывает коды символов ‘6’ и ‘4’ (54+52=106). 

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:008])

6) Аналогично предыдущему примеру изменим символы на числа. Заменим строки аналогично предыдущему.

![8](image/8.png){ #fig:008 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:009])

![9](image/9.png){ #fig:009 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:010])

7) Заменим функцию iprintLF на iprint. Создадим исполняемый файл и запустим его. iprintLF и iprint выводят ответ на разных строчках.

![10](image/10.png){ #fig:010 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:011])

![11](image/11.png){ #fig:011 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:012])

8) Создадим файл lab6-3.asm в каталоге ~/work/arch-pc/lab06:

![12](image/12.png){ #fig:012 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:013])


9) Введем в lab6-3.asm. текст из листинга и запустим его.

![13](image/13.png){ #fig:013 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:014])

![14](image/14.png){ #fig:014 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:015])

10) Изменим текст программы для вычисления выражения f(x) = (4 * 6 + 2)/5.
Создадим исполняемый файл и проверьте его работу.

![15](image/15.png){ #fig:015 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:016])

![16](image/16.png){ #fig:016 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:018])

11) В качестве другого примера рассмотрим программу вычисления варианта задания по номеру студенческого билета, работающую по следующему алгоритму:
• вывести запрос на введение № студенческого билета
• вычислить номер варианта по формуле: (Sn mod 20) + 1, где Sn –
номер студенческого билета (В данном случае a mod b – это остаток
от деления a на b).
• вывести на экран номер варианта.
В данном случае число, над которым необходимо проводить арифметические
операции, вводится с клавиатуры. Как отмечалось выше ввод с клавиатуры
осуществляется в символьном виде и для корректной работы арифметических
операций в NASM символы необходимо преобразовать в числа. Для этого может
быть использована функция atoi из файла in_out.asm.
Создадим файл variant.asm в каталоге ~/work/arch-pc/lab06:
touch ~/work/arch-pc/lab06/variant.asm

![18](image/18.png){ #fig:018 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:019])

![19](image/19.png){ #fig:019 width=70% }


# Самостоятельная работа
Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:020])

1) Написать программу вычисления выражения y=f(x). Программа должна
выводить выражение для вычисления, выводить запрос на ввод значения x, вычислять заданное выражение в зависимости от введенного x, выводить результат вычислений. Вид функции f(x) выбрать из таблицы 6.3
вариантов заданий в соответствии с номером полученным при выполнении лабораторной работы. Создадим исполняемый файл и проверьте его
работу для значений x1 и x2 из 6.3.

1 вариант: (10 + 2x)/3 х1=1 х2=10

![20](image/20.png){ #fig:020 width=70% }

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:021])

![21](image/21.png){ #fig:021 width=70% }

# Выводы

В ходе выполнения лабораторной работы №4 я приобрела практические навыки по разработке командных файлов и освоила
арифметические инструкции ассемблера.


